import Image from "next/image";
import type { YoureStuckData } from "@/sanity/lib/types";

const iconMap: Record<string, React.ReactNode> = {
	"no-guidance": (
		<svg
			width="32"
			height="32"
			viewBox="0 0 32 32"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				d="M16 2C13.2311 2 10.5243 2.82109 8.22201 4.35943C5.91972 5.89777 4.1253 8.08427 3.06568 10.6424C2.00605 13.2006 1.7288 16.0155 2.269 18.7313C2.80919 21.447 4.14256 23.9416 6.1005 25.8995C8.05843 27.8574 10.553 29.1908 13.2687 29.731C15.9845 30.2712 18.7994 29.9939 21.3576 28.9343C23.9157 27.8747 26.1022 26.0803 27.6406 23.778C29.1789 21.4757 30 18.7689 30 16C30 12.287 28.525 8.72601 25.8995 6.1005C23.274 3.475 19.713 2 16 2ZM16 28C13.6266 28 11.3065 27.2962 9.33315 25.9776C7.35976 24.6591 5.82169 22.7849 4.91344 20.5922C4.00519 18.3995 3.76754 15.9867 4.23057 13.6589C4.69359 11.3311 5.83648 9.19295 7.51471 7.51472C9.19294 5.83649 11.3311 4.6936 13.6589 4.23058C15.9867 3.76755 18.3995 4.00519 20.5922 4.91345C22.7849 5.8217 24.659 7.35977 25.9776 9.33316C27.2962 11.3065 28 13.6266 28 16C28 19.1826 26.7357 22.2348 24.4853 24.4853C22.2348 26.7357 19.1826 28 16 28Z"
				fill="#040D26"
			/>
			<path
				d="M11.5 11C11.0055 11 10.5222 11.1466 10.1111 11.4213C9.69994 11.696 9.37951 12.0865 9.19029 12.5433C9.00107 13.0001 8.95156 13.5028 9.04803 13.9877C9.14449 14.4727 9.38259 14.9181 9.73222 15.2678C10.0819 15.6174 10.5273 15.8555 11.0123 15.952C11.4972 16.0484 11.9999 15.9989 12.4567 15.8097C12.9135 15.6205 13.304 15.3 13.5787 14.8889C13.8534 14.4778 14 13.9945 14 13.5C14 12.837 13.7366 12.2011 13.2678 11.7322C12.7989 11.2634 12.163 11 11.5 11Z"
				fill="#040D26"
			/>
			<path
				d="M20.5 11C20.0055 11 19.5222 11.1466 19.1111 11.4213C18.6999 11.696 18.3795 12.0865 18.1903 12.5433C18.0011 13.0001 17.9516 13.5028 18.048 13.9877C18.1445 14.4727 18.3826 14.9181 18.7322 15.2678C19.0819 15.6174 19.5273 15.8555 20.0123 15.952C20.4972 16.0484 20.9999 15.9989 21.4567 15.8097C21.9135 15.6205 22.304 15.3 22.5787 14.8889C22.8534 14.4778 23 13.9945 23 13.5C23 12.837 22.7366 12.2011 22.2678 11.7322C21.7989 11.2634 21.163 11 20.5 11Z"
				fill="#040D26"
			/>
			<path
				d="M16 19C14.6196 19.0023 13.2633 19.3618 12.063 20.0434C10.8627 20.7251 9.85915 21.7057 9.14999 22.89L10.86 23.89C11.3937 23.0038 12.1474 22.2706 13.048 21.7617C13.9486 21.2527 14.9655 20.9852 16 20.9852C17.0345 20.9852 18.0514 21.2527 18.952 21.7617C19.8526 22.2706 20.6063 23.0038 21.14 23.89L22.85 22.89C22.1408 21.7057 21.1373 20.7251 19.937 20.0434C18.7366 19.3618 17.3804 19.0023 16 19Z"
				fill="#040D26"
			/>
		</svg>
	),
	drowning: (
		<svg
			width="32"
			height="32"
			viewBox="0 0 32 32"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path d="M30 22H28V30H30V22Z" fill="#040D26" />
			<path d="M26 18H24V30H26V18Z" fill="#040D26" />
			<path d="M22 26H20V30H22V26Z" fill="#040D26" />
			<path
				d="M9 16C7.61553 16 6.26216 16.4105 5.11101 17.1797C3.95987 17.9489 3.06266 19.0421 2.53285 20.3212C2.00303 21.6003 1.86441 23.0078 2.13451 24.3656C2.4046 25.7235 3.07129 26.9708 4.05026 27.9497C5.02922 28.9287 6.2765 29.5954 7.63437 29.8655C8.99224 30.1356 10.3997 29.997 11.6788 29.4672C12.9579 28.9373 14.0511 28.0401 14.8203 26.889C15.5895 25.7378 16 24.3845 16 23C15.9979 21.1441 15.2598 19.3648 13.9475 18.0525C12.6352 16.7402 10.8559 16.0021 9 16ZM13.8989 22H10V18.1011C10.9598 18.2989 11.8405 18.7736 12.5334 19.4666C13.2264 20.1595 13.7011 21.0402 13.8989 22ZM9 28C7.76099 27.9999 6.56615 27.5398 5.6471 26.7088C4.72804 25.8779 4.15024 24.7353 4.02571 23.5025C3.90118 22.2698 4.23878 21.0347 4.97308 20.0368C5.70737 19.0388 6.78605 18.349 8 18.1011V22C8 22.5304 8.21072 23.0391 8.58579 23.4142C8.96086 23.7893 9.46957 24 10 24H13.8989C13.667 25.1285 13.0531 26.1425 12.1607 26.8711C11.2684 27.5998 10.1521 27.9985 9 28Z"
				fill="#040D26"
			/>
			<path
				d="M22.5352 12L26.5352 6H30V4H25.4648L21.4648 10H18V2H16V14C16 14.5304 16.2107 15.0391 16.5858 15.4142C16.9609 15.7893 17.4696 16 18 16H30V14H18V12H22.5352Z"
				fill="#040D26"
			/>
			<path
				d="M11 8C11.5523 8 12 7.55228 12 7C12 6.44772 11.5523 6 11 6C10.4477 6 10 6.44772 10 7C10 7.55228 10.4477 8 11 8Z"
				fill="#040D26"
			/>
			<path
				d="M9 12C9.55229 12 10 11.5523 10 11C10 10.4477 9.55229 10 9 10C8.44772 10 8 10.4477 8 11C8 11.5523 8.44772 12 9 12Z"
				fill="#040D26"
			/>
			<path
				d="M7 6C7.55229 6 8 5.55228 8 5C8 4.44772 7.55229 4 7 4C6.44772 4 6 4.44772 6 5C6 5.55228 6.44772 6 7 6Z"
				fill="#040D26"
			/>
			<path
				d="M5 10C5.55229 10 6 9.55228 6 9C6 8.44772 5.55229 8 5 8C4.44772 8 4 8.44772 4 9C4 9.55228 4.44772 10 5 10Z"
				fill="#040D26"
			/>
			<path
				d="M3 14C3.55229 14 4 13.5523 4 13C4 12.4477 3.55229 12 3 12C2.44772 12 2 12.4477 2 13C2 13.5523 2.44772 14 3 14Z"
				fill="#040D26"
			/>
		</svg>
	),
	"class-gap": (
		<svg
			width="32"
			height="32"
			viewBox="0 0 32 32"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				d="M31 30H29V27C29 26.2043 28.6839 25.4413 28.1213 24.8787C27.5587 24.3161 26.7957 24 26 24H22C21.2043 24 20.4413 24.3161 19.8787 24.8787C19.3161 25.4413 19 26.2043 19 27V30H17V27C17 25.6739 17.5268 24.4021 18.4645 23.4645C19.4021 22.5268 20.6739 22 22 22H26C27.3261 22 28.5979 22.5268 29.5355 23.4645C30.4732 24.4021 31 25.6739 31 27V30Z"
				fill="#040D26"
			/>
			<path
				d="M24 12C24.5933 12 25.1734 12.1759 25.6667 12.5056C26.1601 12.8352 26.5446 13.3038 26.7716 13.8519C26.9987 14.4001 27.0581 15.0033 26.9424 15.5853C26.8266 16.1672 26.5409 16.7018 26.1213 17.1213C25.7018 17.5409 25.1672 17.8266 24.5853 17.9424C24.0033 18.0581 23.4001 17.9987 22.8519 17.7716C22.3038 17.5446 21.8352 17.1601 21.5056 16.6667C21.1759 16.1734 21 15.5933 21 15C21 14.2044 21.3161 13.4413 21.8787 12.8787C22.4413 12.3161 23.2043 12 24 12ZM24 10C23.0111 10 22.0444 10.2932 21.2221 10.8427C20.3999 11.3921 19.759 12.173 19.3806 13.0866C19.0022 14.0002 18.9031 15.0055 19.0961 15.9755C19.289 16.9454 19.7652 17.8363 20.4645 18.5355C21.1637 19.2348 22.0546 19.711 23.0245 19.9039C23.9945 20.0969 24.9998 19.9978 25.9134 19.6194C26.827 19.241 27.6079 18.6001 28.1573 17.7779C28.7068 16.9556 29 15.9889 29 15C29 13.6739 28.4732 12.4021 27.5355 11.4645C26.5979 10.5268 25.3261 10 24 10Z"
				fill="#040D26"
			/>
			<path
				d="M15 22H13V19C13 18.2043 12.6839 17.4413 12.1213 16.8787C11.5587 16.3161 10.7956 16 10 16H6C5.20435 16 4.44129 16.3161 3.87868 16.8787C3.31607 17.4413 3 18.2043 3 19V22H1V19C1 17.6739 1.52678 16.4021 2.46447 15.4645C3.40215 14.5268 4.67392 14 6 14H10C11.3261 14 12.5979 14.5268 13.5355 15.4645C14.4732 16.4021 15 17.6739 15 19V22Z"
				fill="#040D26"
			/>
			<path
				d="M8 4C8.59334 4 9.17336 4.17595 9.66671 4.50559C10.1601 4.83524 10.5446 5.30377 10.7716 5.85195C10.9987 6.40013 11.0581 7.00333 10.9424 7.58527C10.8266 8.16721 10.5409 8.70176 10.1213 9.12132C9.70176 9.54088 9.16721 9.8266 8.58527 9.94236C8.00333 10.0581 7.40013 9.9987 6.85195 9.77164C6.30377 9.54458 5.83524 9.16006 5.50559 8.66671C5.17595 8.17336 5 7.59334 5 7C5 6.20435 5.31607 5.44129 5.87868 4.87868C6.44129 4.31607 7.20435 4 8 4ZM8 2C7.01109 2 6.04439 2.29324 5.22215 2.84265C4.3999 3.39206 3.75904 4.17295 3.3806 5.08658C3.00216 6.00021 2.90315 7.00555 3.09607 7.97545C3.289 8.94536 3.7652 9.83627 4.46447 10.5355C5.16373 11.2348 6.05464 11.711 7.02455 11.9039C7.99445 12.0969 8.99979 11.9978 9.91342 11.6194C10.827 11.241 11.6079 10.6001 12.1573 9.77785C12.7068 8.95561 13 7.98891 13 7C13 5.67392 12.4732 4.40215 11.5355 3.46447C10.5979 2.52678 9.32608 2 8 2Z"
				fill="#040D26"
			/>
		</svg>
	),
};

// Default fallback data
const defaultYoureStuckData: YoureStuckData = {
	title: "You're stuck in a system designed to work against you",
	items: [
		{
			iconType: "no-guidance",
			title: "No real guidance",
			description:
				"You have access to the markets. You don't have time to find and evaluate quality stocks alongside your job. So you settle for whatever shows up on your feed. YouTube picks. Telegram tips. Your colleague's hot stock idea. You're picking stocks you haven't vetted, hoping you made the right call.",
		},
		{
			iconType: "drowning",
			title: "Drowning in information without understanding",
			description:
				"You see a stock recommendation. You don't understand the valuation. You don't know when to exit. So you hold too long. You panic sell at the bottom. You miss the rebounds. The information exists. The clarity doesn't.",
		},
		{
			iconType: "class-gap",
			title: "The class gap is real",
			description:
				"HNI investors have research teams. You have X/twitter threads. They're building generational wealth. Your stocks aren't moving. Theirs are compounding Hoping you made the right call.",
		},
	],
};

interface YoureStuckInAsystemDesignedToWorkAgainstYouProps {
	data?: { data: YoureStuckData | null };
}

export default function YoureStuckInAsystemDesignedToWorkAgainstYou({
	data,
}: YoureStuckInAsystemDesignedToWorkAgainstYouProps) {
	const youreStuckData = data?.data || defaultYoureStuckData;
	console.log("youreStuckData:", youreStuckData);
	return (
		<section className="w-full">
			<div
				style={{
					backgroundImage: "url('/assets/grids/simpleGrid.svg')",
					backgroundSize: "contain",
					backgroundPosition: "center",
					backgroundRepeat: "repeat",
				}}
				className="w-full md:max-h-[522px] px-[20px] md:px-[80px] py-[80px] md:py-[120px] bg-white z-0"
			>
				<div className="max-w-7xl mx-auto flex flex-col gap-[40px] md:gap-[80px] h-full z-10">
					<h2 className="max-w-2xl text-[32px] md:text-[40px] leading-[40px] md:leading-[48px] text-center md:text-left">
						{youreStuckData.title.split("\n").map((line, i) => (
							<span key={i}>
								{line}
								{i <
									youreStuckData.title.split("\n").length -
										1 && <br />}
							</span>
						))}
					</h2>
					<div className="grid grid-cols-1 md:grid-cols-3 gap-[32px] md:gap-[20px]">
						{youreStuckData.items.map((item, index) => (
							<div
								key={index}
								className="w-full h-full md:min-h-[403px] bg-[#f4f6f8] border border-[#040D261F] rounded-[8px] p-[32px] gap-[16px] flex flex-col"
							>
								{iconMap[item.iconType] ||
									iconMap["no-guidance"]}
								<h5 className="text-[#040D26] text-[24px] leading-[32px]">
									{item.title}
								</h5>
								<p className="text-[#040D26] text-[16px] leading-[24px] opacity-60">
									{item.description}
								</p>
							</div>
						))}
					</div>
				</div>
			</div>
		</section>
	);
}
